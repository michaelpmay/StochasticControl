classdef ViewModelFsp
  properties
    modelFsp
    score
  end
  methods
    function obj=ViewModelFsp(modelFsp)
      obj.modelFsp=modelFsp;
      obj.score=ProbabilityScore(modelFsp.dims);
    end
    function viewSteadyState(obj)
      probability=obj.modelFsp.getSteadyStateReshape;
      pcolorProbability(probability);
    end
    function viewSteadyStateWithTarget(obj)
      hold on 
      obj.viewSteadyState;
      target=obj.score.target;
      plot(target(2),target(1),'ro')
      hold off
    end
    function viewControlInput(obj)
      pcolorProbability(obj.modelFsp.model.controlInput);
    end
    function viewMarginal(obj)
      probability=obj.modelFsp.getSteadyStateReshape;
      Px=sum(probability,1);
      Py=sum(probability,2);
      [xv,yv]=obj.modelFsp.getXYV
      hold on
      plot(xv,Px);
      plot(yv,Py);
      hold off
    end
    function viewMarginalWithTarget(obj)
      obj.viewMarginal;
      hold on 
    end
  end
end